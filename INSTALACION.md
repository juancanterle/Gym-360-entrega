# üèãÔ∏è GYM360 - Gu√≠a de Instalaci√≥n Completa

## üìã Requisitos Previos

Antes de comenzar, aseg√∫rate de tener instalado:

1. **Node.js** (versi√≥n 18 o superior)
   - Descarga desde: https://nodejs.org/
   - Verifica la instalaci√≥n: `node --version`

2. **MySQL 8.0**
   - Ya tienes MySQL80 instalado en localhost:3306
   - Usuario: `root`
   - Contrase√±a: `Willy2004@`

3. **Git** (opcional, para clonar el repositorio)

---

## üöÄ Paso 1: Preparar el Proyecto

### 1.1 Descargar el proyecto
Si tienes el ZIP, descompr√≠melo en una carpeta de tu elecci√≥n.

### 1.2 Abrir terminal en la carpeta del proyecto
- **Windows**: Shift + Click derecho en la carpeta ‚Üí "Abrir PowerShell aqu√≠"
- **Mac/Linux**: Click derecho ‚Üí "Abrir en Terminal"

### 1.3 Instalar dependencias
\`\`\`bash
npm install
\`\`\`

Esto instalar√° todas las librer√≠as necesarias (React, Next.js, MySQL2, etc.)

---

## üóÑÔ∏è Paso 2: Configurar la Base de Datos

### 2.1 Abrir MySQL Workbench o tu cliente MySQL favorito

### 2.2 Conectarse a MySQL
- Host: `localhost:3306`
- Usuario: `root`
- Contrase√±a: `Willy2004@`

### 2.3 Ejecutar los scripts SQL EN ORDEN

#### Script 1: Crear la base de datos y tablas
\`\`\`sql
-- Copia y pega TODO el contenido del archivo:
-- scripts/01-create-database.sql
\`\`\`

**¬øQu√© hace este script?**
- Crea la base de datos `gym360_db`
- Crea 13 tablas: sucursales, usuarios_sistema, planes_membresia, miembros, membres√≠as, entrenadores, tipos_clases, clases, inscripciones_clases, pagos, asistencias, usuarios_miembros
- Crea √≠ndices para optimizar consultas
- Crea un trigger para generar n√∫meros de miembro autom√°ticamente

#### Script 2: Insertar datos de ejemplo
\`\`\`sql
-- Copia y pega TODO el contenido del archivo:
-- scripts/02-insert-sample-data.sql
\`\`\`

**¬øQu√© datos inserta?**
- ‚úÖ 4 Sucursales (Centro, Norte, Sur, Este)
- ‚úÖ 5 Planes de membres√≠a (B√°sico, Premium, VIP, Anual B√°sico, Anual Premium)
- ‚úÖ 6 Entrenadores con especialidades
- ‚úÖ 6 Tipos de clases (Yoga, CrossFit, Pilates, Spinning, Zumba, Funcional)
- ‚úÖ 10 Miembros de ejemplo
- ‚úÖ 10 Membres√≠as activas
- ‚úÖ 7 Clases programadas
- ‚úÖ 16 Inscripciones a clases
- ‚úÖ 10 Pagos registrados
- ‚úÖ 10 Asistencias al gimnasio

#### Script 3: Crear usuarios de autenticaci√≥n
\`\`\`sql
-- Copia y pega TODO el contenido del archivo:
-- scripts/03-insert-auth-users.sql
\`\`\`

**¬øQu√© usuarios crea?**

**USUARIOS DEL SISTEMA (Administradores):**
- üîë **Super Admin (Due√±o del Gimnasio)**
  - Email: `dueno@gym360.com`
  - Contrase√±a: `superadmin123`
  - Rol: Super Admin (ve todas las sucursales)

- üîë **Admin Sucursal Centro**
  - Email: `admin.centro@gym360.com`
  - Contrase√±a: `admin123`
  - Rol: Admin de Sucursal Centro

- üîë **Admin Sucursal Norte**
  - Email: `admin.norte@gym360.com`
  - Contrase√±a: `admin123`
  - Rol: Admin de Sucursal Norte

- üîë **Admin Sucursal Sur**
  - Email: `admin.sur@gym360.com`
  - Contrase√±a: `admin123`
  - Rol: Admin de Sucursal Sur

- üîë **Admin Sucursal Este**
  - Email: `admin.este@gym360.com`
  - Contrase√±a: `admin123`
  - Rol: Admin de Sucursal Este

**USUARIOS MIEMBROS (Clientes):**
- üîë **Pedro Gonz√°lez**
  - Email: `pedro.gonzalez@email.com`
  - Contrase√±a: `cliente123`
  - Sucursal: Centro

- üîë **Luc√≠a Fern√°ndez**
  - Email: `lucia.fernandez@email.com`
  - Contrase√±a: `cliente123`
  - Sucursal: Centro

- üîë **Miguel Torres**
  - Email: `miguel.torres@email.com`
  - Contrase√±a: `cliente123`
  - Sucursal: Centro

- üîë **Carmen Ruiz**
  - Email: `carmen.ruiz@email.com`
  - Contrase√±a: `cliente123`
  - Sucursal: Norte

- üîë **Andr√©s Morales**
  - Email: `andres.morales@email.com`
  - Contrase√±a: `cliente123`
  - Sucursal: Norte

### 2.4 Verificar que los datos se insertaron correctamente

Ejecuta estas consultas para verificar:

\`\`\`sql
-- Ver todas las sucursales
SELECT * FROM gym360_db.sucursales;

-- Ver todos los usuarios del sistema
SELECT us.email, us.rol, s.nombre as sucursal 
FROM gym360_db.usuarios_sistema us 
LEFT JOIN gym360_db.sucursales s ON us.sucursal_id = s.id;

-- Ver todos los miembros
SELECT m.numero_miembro, m.nombre, m.apellido, m.email, s.nombre as sucursal
FROM gym360_db.miembros m
LEFT JOIN gym360_db.sucursales s ON m.sucursal_id = s.id;

-- Ver usuarios miembros con sus credenciales
SELECT um.email, m.nombre, m.apellido, m.numero_miembro 
FROM gym360_db.usuarios_miembros um 
JOIN gym360_db.miembros m ON um.miembro_id = m.id;

-- Ver clases programadas
SELECT c.id, tc.nombre as tipo_clase, e.nombre as entrenador, 
       s.nombre as sucursal, c.fecha, c.hora_inicio, c.hora_fin,
       c.inscritos_actuales, c.capacidad_maxima
FROM gym360_db.clases c
JOIN gym360_db.tipos_clases tc ON c.tipo_clase_id = tc.id
JOIN gym360_db.entrenadores e ON c.entrenador_id = e.id
JOIN gym360_db.sucursales s ON c.sucursal_id = s.id
ORDER BY c.fecha, c.hora_inicio;

-- Ver membres√≠as activas
SELECT m.numero_miembro, CONCAT(m.nombre, ' ', m.apellido) as miembro,
       pm.nombre as plan, mem.fecha_inicio, mem.fecha_fin, mem.estado
FROM gym360_db.membresias mem
JOIN gym360_db.miembros m ON mem.miembro_id = m.id
JOIN gym360_db.planes_membresia pm ON mem.plan_id = pm.id
WHERE mem.estado = 'activa';
\`\`\`

**‚úÖ Si ves datos en todas estas consultas, la base de datos est√° lista!**

---

## ‚öôÔ∏è Paso 3: Configurar Variables de Entorno

### 3.1 Crear archivo .env.local

En la ra√≠z del proyecto, crea un archivo llamado `.env.local` con este contenido:

\`\`\`env
# Configuraci√≥n de Base de Datos MySQL
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=Willy2004@
DB_NAME=gym360_db
DB_PORT=3306
\`\`\`

**IMPORTANTE:** Este archivo NO debe subirse a Git (ya est√° en .gitignore)

---

## üéØ Paso 4: Ejecutar la Aplicaci√≥n

### 4.1 Iniciar el servidor de desarrollo

\`\`\`bash
npm run dev
\`\`\`

### 4.2 Abrir el navegador

Abre tu navegador y ve a: **http://localhost:3000**

Deber√≠as ver la pantalla de login con el fondo del gimnasio.

---

## üîê Paso 5: Probar el Sistema

### 5.1 Probar como DUE√ëO DEL GIMNASIO (Super Admin)

1. En la pantalla de login, ingresa:
   - **Email:** `dueno@gym360.com`
   - **Contrase√±a:** `superadmin123`

2. Click en "Iniciar Sesi√≥n"

3. Deber√≠as ver el **Dashboard de Super Admin** con:
   - Estad√≠sticas de TODAS las sucursales
   - Total de miembros activos
   - Ingresos totales
   - Clases programadas
   - Gr√°ficos de rendimiento

### 5.2 Probar como CLIENTE NUEVO (Registro)

1. En la pantalla de login, click en "Registrarse" o "Crear cuenta"

2. Completa el formulario:
   - Nombre: Tu nombre
   - Apellido: Tu apellido
   - Email: tu-email@ejemplo.com
   - Tel√©fono: 555-1234
   - Contrase√±a: minimo6caracteres
   - Confirmar contrase√±a: minimo6caracteres

3. Click en "Continuar"

4. **Selecciona una sucursal** de la lista (Centro, Norte, Sur o Este)
   - Ver√°s la direcci√≥n de cada sucursal
   - Puedes ver la ubicaci√≥n en Google Maps

5. Click en "Completar Registro"

6. Deber√≠as ver el **Dashboard de Cliente** con:
   - Clases disponibles en TU sucursal
   - Horarios de las clases
   - Tus reservas (si tienes)
   - Tu informaci√≥n de membres√≠a

### 5.3 Probar como CLIENTE EXISTENTE

1. En la pantalla de login, ingresa:
   - **Email:** `pedro.gonzalez@email.com`
   - **Contrase√±a:** `cliente123`

2. Deber√≠as ver el Dashboard de Cliente con datos reales de la base de datos

### 5.4 Probar como ADMIN DE SUCURSAL

1. En la pantalla de login, ingresa:
   - **Email:** `admin.centro@gym360.com`
   - **Contrase√±a:** `admin123`

2. Deber√≠as ver el **Dashboard de Admin de Sucursal** con:
   - Estad√≠sticas de la Sucursal Centro
   - Miembros de esa sucursal
   - Clases programadas
   - Pagos pendientes

---

## üìä Datos Reales en la Base de Datos

### Resumen de lo que tienes:

| Tabla | Cantidad | Descripci√≥n |
|-------|----------|-------------|
| **Sucursales** | 4 | Centro, Norte, Sur, Este |
| **Usuarios Sistema** | 5 | 1 Super Admin + 4 Admins de Sucursal |
| **Usuarios Miembros** | 5 | Clientes con login |
| **Miembros** | 10 | Clientes registrados |
| **Planes** | 5 | B√°sico, Premium, VIP, Anual B√°sico, Anual Premium |
| **Membres√≠as** | 10 | 9 activas, 1 vencida |
| **Entrenadores** | 6 | Con especialidades |
| **Tipos de Clases** | 6 | Yoga, CrossFit, Pilates, Spinning, Zumba, Funcional |
| **Clases** | 7 | Programadas para hoy y pr√≥ximos d√≠as |
| **Inscripciones** | 16 | Miembros inscritos en clases |
| **Pagos** | 10 | 5 pagados, 3 pendientes, 2 vencidos |
| **Asistencias** | 10 | Registros de entrada/salida |

---

## üêõ Soluci√≥n de Problemas

### Problema: "Cannot connect to database"

**Soluci√≥n:**
1. Verifica que MySQL est√© corriendo
2. Verifica las credenciales en `.env.local`
3. Verifica que la base de datos `gym360_db` exista

### Problema: "No se cargan las sucursales en el registro"

**Soluci√≥n:**
1. Verifica que ejecutaste el script `02-insert-sample-data.sql`
2. Verifica en MySQL: `SELECT * FROM gym360_db.sucursales;`
3. Revisa la consola del navegador (F12) para ver errores

### Problema: "Login no funciona"

**Soluci√≥n:**
1. Verifica que ejecutaste el script `03-insert-auth-users.sql`
2. Usa las credenciales exactas listadas arriba
3. Revisa la consola del navegador (F12) para ver errores

### Problema: "El dashboard est√° vac√≠o"

**Soluci√≥n:**
1. Verifica que ejecutaste TODOS los scripts SQL
2. Verifica que hay datos: `SELECT COUNT(*) FROM gym360_db.miembros;`
3. Revisa la consola del navegador (F12) para ver errores de API

---

## üìù Notas Importantes

1. **Contrase√±as en Base64:** Las contrase√±as en la base de datos est√°n codificadas en Base64 (no es seguro para producci√≥n, solo para desarrollo)

2. **Datos de Prueba:** Todos los datos son de ejemplo. Puedes modificarlos o agregar m√°s seg√∫n necesites.

3. **Puerto 3000:** Si el puerto 3000 est√° ocupado, Next.js usar√° el 3001 autom√°ticamente.

4. **Hot Reload:** Los cambios en el c√≥digo se reflejan autom√°ticamente sin reiniciar el servidor.

---

## üéâ ¬°Listo!

Si seguiste todos los pasos, ahora tienes:

‚úÖ Base de datos MySQL configurada con datos reales
‚úÖ Sistema GYM360 corriendo en localhost:3000
‚úÖ Login funcionando para due√±o, admins y clientes
‚úÖ Registro de nuevos usuarios funcionando
‚úÖ Dashboards mostrando datos reales de la base de datos
‚úÖ Selecci√≥n de sucursales desde la base de datos

---

## üìû Soporte

Si tienes problemas:
1. Revisa la secci√≥n "Soluci√≥n de Problemas"
2. Verifica los logs en la terminal donde corre `npm run dev`
3. Revisa la consola del navegador (F12 ‚Üí Console)
4. Verifica que todos los scripts SQL se ejecutaron correctamente

---

**¬°Disfruta tu sistema GYM360! üèãÔ∏è‚Äç‚ôÇÔ∏èüí™**
